<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neurodesarrollo - CIMA Nahui</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="registro-style.css">
</head>
<body>

<div class="form-container">
    <header class="form-header">
        <h1>🧠 Valoración del Neurodesarrollo</h1>
        <p id="patient-banner">Cargando paciente...</p>
    </header>

    <div class="tabs-container">
        <div class="tab-nav">
            <button type="button" class="tab-button active" data-tab="historial">Historial</button>
            <button type="button" class="tab-button" data-tab="amiel-tyson">Valoración Amiel-Tyson</button>
            <button type="button" class="tab-button" data-tab="hitos">Hitos por Edad</button>
        </div>
        
        <div id="historial" class="tab-content active">
            <h2>Historial de Valoraciones</h2>
            <div id="neuro-historial-container"></div>
        </div>

        <div id="amiel-tyson" class="tab-content">
            <h2>Registrar Valoración Neurológica (Amiel-Tyson)</h2>
            <form id="neuro-form-amiel">
                <div class="form-grid">
                    <div class="form-group"><label for="fechaValoracionAmiel">Fecha de Valoración</label><input type="date" id="fechaValoracionAmiel" required></div>
                    <div class="form-group"><label for="edadMesesAmiel">Edad en la Valoración (meses)</label><input type="number" id="edadMesesAmiel" required></div>
                </div>

                <div class="assessment-section">
                    <h4>Tono Pasivo</h4>
                    <div class="assessment-item">
                        <label for="tonoPasivoPuntuacion">Puntuación Tono Pasivo</label>
                        <input type="number" class="puntuacion-input" id="tonoPasivoPuntuacion">
                        <textarea id="tonoPasivoObs" placeholder="Observaciones de Tono Pasivo..." rows="3"></textarea>
                    </div>
                </div>

                <div class="assessment-section">
                    <h4>Tono Activo</h4>
                    <div class="assessment-item">
                        <label for="tonoActivoPuntuacion">Puntuación Tono Activo</label>
                        <input type="number" class="puntuacion-input" id="tonoActivoPuntuacion">
                        <textarea id="tonoActivoObs" placeholder="Observaciones de Tono Activo..." rows="3"></textarea>
                    </div>
                </div>

                <div class="assessment-section">
                    <h4>Reflejos Primarios</h4>
                     <div class="assessment-item">
                        <label for="reflejosPuntuacion">Puntuación Reflejos</label>
                        <input type="number" class="puntuacion-input" id="reflejosPuntuacion">
                        <textarea id="reflejosObs" placeholder="Observaciones de Reflejos Primarios..." rows="3"></textarea>
                    </div>
                </div>
                
                <hr>
                
                <div class="form-grid">
                     <div class="form-group">
                        <label for="puntuacionTotal">Puntuación Total</label>
                        <input type="number" id="puntuacionTotal" readonly style="background-color: #e9ecef;">
                    </div>
                    <div class="form-group full-width">
                         <label for="conclusion">Conclusión / Resumen de la Valoración</label>
                         <textarea id="conclusion" rows="4"></textarea>
                    </div>
                </div>
               
                <button type="submit" class="button-primary">Guardar Valoración Amiel-Tyson</button>
                <div id="response-message-amiel"></div>
            </form>
        </div>

        <div id="hitos" class="tab-content">
            <h2>Registrar Hitos del Desarrollo</h2>
            <form id="neuro-form-hitos">
                 <div class="form-grid">
                    <div class="form-group">
                        <label for="fechaValoracionHitos">Fecha de Valoración</label>
                        <input type="date" id="fechaValoracionHitos" required>
                    </div>
                    <div class="form-group">
                        <label for="edadHitosSelect">Seleccionar Edad a Evaluar</label>
                        <select id="edadHitosSelect">
                            <option value="">-- Elija una edad --</option>
                            <option value="rn">Recién Nacido</option>
                            <option value="2m">2 Meses</option>
                            <option value="4m">4 Meses</option>
                            <option value="6m">6 Meses</option>
                            <option value="9m">9 Meses</option>
                            <option value="12m">12 Meses</option>
                        </select>
                    </div>
                </div>
                <div id="hitos-checklist-container"></div>
                <div class="form-group">
                    <label for="observacionesHitos">Observaciones Adicionales</label>
                    <textarea id="observacionesHitos" rows="3"></textarea>
                </div>
                <button type="submit" class="button-primary">Guardar Hitos</button>
                <div id="response-message-hitos"></div>
            </form>
        </div>
    </div>
    
    <div class="actions-toolbar">
        <a href="#" id="back-to-visor" class="button-secondary">⬅️ Regresar al Expediente</a>
    </div>

    <footer class="form-footer">
        <p>CIMA Nahui de Occidente &copy; 2025</p>
    </footer>
</div>

<script src="neuro-script.js"></script>

</body>
</html>
